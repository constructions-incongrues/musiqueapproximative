# Configuration du dépôt GitHub
# Ce fichier peut être utilisé avec l'app GitHub Settings: https://github.com/apps/settings
# Pour appliquer cette configuration automatiquement

repository:
  name: musiqueapproximative
  description: C’est l’exutoire anarchique d’une bande de mélomanes fêlé⋅e⋅s. C’est une playlist infernale alimentée chaque jour par les obsessions et les découvertes de chacun⋅e.
  homepage: https://www.musiqueapproximative.net
  topics:
    - agenda
    - art
    - glitch
    - musique
    - php
    - playlist
    - radio
    - symfony

  private: false
  has_issues: true
  has_projects: false
  has_wiki: false
  has_downloads: true

  default_branch: main

  allow_squash_merge: true
  allow_merge_commit: false
  allow_rebase_merge: false
  delete_branch_on_merge: true

  enable_automated_security_fixes: true
  enable_vulnerability_alerts: true

# Labels pour les issues et PRs
labels:
  # Type de changement
  - name: "type: feat"
    color: 0e8a16
    description: Nouvelle fonctionnalité

  - name: "type: fix"
    color: d73a4a
    description: Correction de bug

  - name: "type: docs"
    color: 0075ca
    description: Documentation

  - name: "type: style"
    color: fbca04
    description: Changements de style (CSS, formatage)

  - name: "type: refactor"
    color: 5319e7
    description: Refactoring du code

  - name: "type: perf"
    color: f9d0c4
    description: Amélioration de performance

  - name: "type: test"
    color: c5def5
    description: Ajout ou modification de tests

  - name: "type: chore"
    color: fef2c0
    description: Maintenance et tâches diverses

  # Priorité
  - name: "priority: high"
    color: b60205
    description: Priorité haute

  - name: "priority: medium"
    color: fbca04
    description: Priorité moyenne

  - name: "priority: low"
    color: 0e8a16
    description: Priorité basse

  # Statut
  - name: "status: blocked"
    color: d93f0b
    description: Bloqué

  - name: "status: in progress"
    color: 0052cc
    description: En cours

  - name: "status: needs review"
    color: fbca04
    description: Nécessite une revue

  # Dépendances
  - name: dependencies
    color: 0366d6
    description: Mise à jour de dépendances

# Protection des branches
branches:
  - name: main
    protection:
      required_pull_request_reviews:
        required_approving_review_count: 1
        dismiss_stale_reviews: true
        require_code_owner_reviews: false

      required_status_checks:
        strict: true
        contexts:
          - Validation du code
          - Build Docker
          - Trunk Check
          - Trivy Scan

      enforce_admins: true
      required_linear_history: true
      allow_force_pushes: false
      allow_deletions: false
