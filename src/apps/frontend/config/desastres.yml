# Configuration des desastres - Musique Approximative
#
# Ce fichier definit les regles et les recettes pour le systeme de desastres.
# Les regles permettent de determiner quand un desastre doit etre applique,
# et les recettes definissent quels assets (CSS/JS) charger.

regles:
  # Desastre "bleu" sur le titre ou l'artiste
  - query: "query.title ~ /.*bleu.*/i || query.artist ~ /.*bleu.*/i"
    recettes: [bleu]
    probability: 0.7

  # Desastre "amour" : declanche si le titre contient "amour" ou "love"
  - query: "query.title ~ /.*(amour|love).*/i"
    recettes: [amour]
    probability: 0.7

  # Desastre "robot"
  - query: "query.title ~ /.*robot.*/i"
    recettes: [robot]
    probability: 0.7

  # Desastre "fish" : declanche si le titre contient "fish" ou "poisson"
  - query: "query.title ~ /.*(fish|poisson).*/i"
    recettes: [fish]
    probability: 0.7

  # Desastre "noir" : declanche si le titre contient "noir" ou "black"
  - query: "query.title ~ /.*(noir|black).*/i"
    recettes: [noir]
    probability: 0.7

  # Desastre "light" : declanche si le titre contient "light" ou "lumiere"
  - query: "query.title ~ /.*(light|lumiere).*/i"
    recettes: [light]
    probability: 0.7

  # Desastre "mort" : declanche si le titre contient "mort", "morte", "morts", "death", "deaths" ou "dead"
  - query: "query.title ~ /.*(morte?s?|deaths?|dead).*/i"
    recettes: [mort]
    probability: 0.7

  # Désastre téléphonique : déclenche si le titre contient "phone" ou "téléphone" ou allo
  - query: "query.title ~ /.*(phone|t[eé]l[eé]phone|allo).*/i"
    recettes: [mamie]
    probability: 0.5

  # Desastre "musique" : declanche si le titre contient "musique" ou "music"
  - query: "query.title ~ /.*(musique|music).*/i"
    recettes: [musique]
    probability: 0.7

recettes:
  # Recette "bleu"
  # Les assets doivent se trouver dans :
  # - web/desastres/bleu/stylesheets/*.css
  # - web/desastres/bleu/javascript/*.js
  bleu:
    enabled: true
    desastre: bleu

  # Recette "amour"
  # Les assets doivent se trouver dans :
  # - web/desastres/amour/stylesheets/*.css
  # - web/desastres/amour/javascript/*.js
  # Les options sont accessibles via :
  # - JavaScript: window.DesastreOptions.amour.theme
  # - CSS: var(--desastre-amour-theme)
  amour:
    enabled: true
    desastre: amour

  # Recette "robot"
  # Les assets doivent se trouver dans :
  # - web/desastres/robot/stylesheets/*.css
  # - web/desastres/robot/javascript/*.js
  robot:
    enabled: true
    desastre: robot

  # Recette "fish"
  # Les assets doivent se trouver dans :
  # - web/desastres/fish/stylesheets/*.css
  # - web/desastres/fish/javascript/*.js
  fish:
    enabled: true
    desastre: fish

  # Recette "noir"
  # Les assets doivent se trouver dans :
  # - web/desastres/noir/stylesheets/*.css
  # - web/desastres/noir/javascript/*.js
  noir:
    enabled: true
    desastre: noir

  # Recette "light"
  # Les assets doivent se trouver dans :
  # - web/desastres/light/stylesheets/*.css
  # - web/desastres/light/javascript/*.js
  light:
    enabled: true
    desastre: light

  # Recette "mort"
  # Les assets doivent se trouver dans :
  # - web/desastres/mort/stylesheets/*.css
  # - web/desastres/mort/javascript/*.js
  mort:
    enabled: true
    desastre: mort

  # Recette "mamie"
  # Les assets doivent se trouver dans :
  # - web/desastres/mamie/stylesheets/*.css
  # - web/desastres/mamie/javascript/*.js
  mamie:
    enabled: true
    desastre: mamie
    options:
      volume: 0.5

  # Recette "musique"
  # Les assets doivent se trouver dans :
  # - web/desastres/musique/stylesheets/*.css
  # - web/desastres/musique/javascript/*.js
  musique:
    enabled: true
    desastre: musique